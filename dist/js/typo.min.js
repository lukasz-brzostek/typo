if("undefined"==typeof jQuery)throw new Error("typo requires jQuery");!function(a){a.fn.typography=function(b){var c=a.extend({enableAll:!1,styling:!0,wordBreak:!0,nbsp:!0,spaceComma:!1,spaceDot:!1,spaceQuestion:!1,spaceExclamation:!1,spaceBracket:!1,spaceDashes:!1,oneSpace:!1,oneComma:!1,oneQuestion:!1,oneExclamation:!1,oneBracket:!1},b);if(1==c.wordBreak||1==c.enableAll)var d="break-word;";(1==c.styling||1==c.enableAll)&&a("body").append("<style>body {-webkit-font-smoothing: subpixel-antialiased;-webkit-text-stroke: 1px transparent;-moz-osx-font-smoothing: grayscale;text-rendering: optimizeLegibility;font-kerning: normal;word-break: "+(null!=d?d:"normal")+"}</style>"),a(".typo").each(function(){var b=a(this).html(),d=b;(1==c.oneComma||1==c.enableAll)&&(d=d.replace(/\,\,+/g,",")),(1==c.oneQuestion||1==c.enableAll)&&(d=d.replace(/\?\?+/g,"?")),(1==c.oneExclamation||1==c.enableAll)&&(d=d.replace(/\!\!+/g,"!")),(1==c.oneBracket||1==c.enableAll)&&(d=d.replace(/\(\(+/g,"(").replace(/\)\)+/g,")").replace(/\[\[+/g,"[").replace(/\]\]+/g,"]")),(1==c.spaceComma||1==c.enableAll)&&(d=d.replace(/,/g,", ").replace(/ ,/g,",")),(1==c.spaceQuestion||1==c.enableAll)&&(d=d.replace(/\?/g,"? ").replace(/ \?/g,"?")),(1==c.spaceExclamation||1==c.enableAll)&&(d=d.replace(/\!/g,"! ").replace(/ \!/g,"!")),(1==c.spaceBracket||1==c.enableAll)&&(d=d.replace(/\( /g,"(").replace(/\(/g," (").replace(/\)/g,") ").replace(/ \)/g,")"),d=d.replace(/\[ /g,"[").replace(/\[/g," [").replace(/\]/g,"] ").replace(/ \]/g,"]")),(1==c.spaceDot||1==c.enableAll)&&(d=d.replace(/\./g,". ").replace(/ \./g,".")),(1==c.spaceDashes||1==c.enableAll)&&(d=d.replace(/-+/g," - ")),(1==c.oneSpace||1==c.enableAll)&&(d=d.replace(/\s\s+/g," ")),(1==c.nbsp||1==c.enableAll)&&(d=d.replace(/(\s\w\s{1})/gi,"$1&nbsp;"),d=d.replace(/(\b\s\w{2}\s)/gi,"$1&nbsp;"),d=d.replace(/(\b\s\w{3}\s)/gi,"$1&nbsp;"),d=d.replace(/(\s\w{2}\S\s)/gi,"$1&nbsp;"),d=d.replace(/(\s\w{2}\s)/gi,"$1&nbsp;"),d=d.replace(/(\s\d{0,2}\d\s)/gi,"$1&nbsp;"),d=d.replace(/(\b\s\w{0,3}\b\s\b)/gi,"$1&nbsp;"),d=d.replace(/(\s[-–*+=\/<>]\s)/i,"$1&nbsp;"),d=d.replace(/(\s\w{2}[.]\s)/gi,"$1&nbsp;"),d=d.replace(/(\s\w{0,1}\w\s)/gi,"$1&nbsp;"),d=d.replace(/(\s[ż]\w\s{1})/gi,"$1&nbsp;"),d=d.replace(/\s&nbsp;/gi,"&nbsp;"),d=d.replace(/(&nbsp;)\1+/g,"&nbsp;")),a(this).html(d)})}}(jQuery);