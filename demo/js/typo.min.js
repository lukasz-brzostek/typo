$.fn.typography=function(a){var b=$.extend({enableAll:!1,styling:!0,wordBreak:!0,nbsp:!0,spaceComma:!1,spaceDot:!1,spaceQuestion:!1,spaceExclamation:!1,spaceBracket:!1,spaceDashes:!1,oneSpace:!1,oneComma:!1,oneQuestion:!1,oneExclamation:!1,oneBracket:!1},a);if(1==b.wordBreak||1==b.enableAll)var c="break-word;";(1==b.styling||1==b.enableAll)&&$("body").append("<style>body {-webkit-font-smoothing: subpixel-antialiased;-webkit-text-stroke: 1px transparent;-moz-osx-font-smoothing: grayscale;text-rendering: optimizeLegibility;font-kerning: normal;word-break: "+(null!=c?c:"normal")+"}</style>"),$(".typo").each(function(){var a=$(this).html(),c=a;(1==b.oneComma||1==b.enableAll)&&(c=c.replace(/\,\,+/g,",")),(1==b.oneQuestion||1==b.enableAll)&&(c=c.replace(/\?\?+/g,"?")),(1==b.oneExclamation||1==b.enableAll)&&(c=c.replace(/\!\!+/g,"!")),(1==b.oneBracket||1==b.enableAll)&&(c=c.replace(/\(\(+/g,"(").replace(/\)\)+/g,")").replace(/\[\[+/g,"[").replace(/\]\]+/g,"]")),(1==b.spaceComma||1==b.enableAll)&&(c=c.replace(/,/g,", ").replace(/ ,/g,",")),(1==b.spaceQuestion||1==b.enableAll)&&(c=c.replace(/\?/g,"? ").replace(/ \?/g,"?")),(1==b.spaceExclamation||1==b.enableAll)&&(c=c.replace(/\!/g,"! ").replace(/ \!/g,"!")),(1==b.spaceBracket||1==b.enableAll)&&(c=c.replace(/\( /g,"(").replace(/\(/g," (").replace(/\)/g,") ").replace(/ \)/g,")"),c=c.replace(/\[ /g,"[").replace(/\[/g," [").replace(/\]/g,"] ").replace(/ \]/g,"]")),(1==b.spaceDot||1==b.enableAll)&&(c=c.replace(/\./g,". ").replace(/ \./g,".")),(1==b.spaceDashes||1==b.enableAll)&&(c=c.replace(/-+/g," - ")),(1==b.oneSpace||1==b.enableAll)&&(c=c.replace(/\s\s+/g," ")),(1==b.nbsp||1==b.enableAll)&&(c=c.replace(/(\s\w\s{1})/gi,"$1&nbsp;"),c=c.replace(/(\b\s\w{2}\s)/gi,"$1&nbsp;"),c=c.replace(/(\b\s\w{3}\s)/gi,"$1&nbsp;"),c=c.replace(/(\s\w{2}\S\s)/gi,"$1&nbsp;"),c=c.replace(/(\s\w{2}\s)/gi,"$1&nbsp;"),c=c.replace(/(\s\d{0,2}\d\s)/gi,"$1&nbsp;"),c=c.replace(/(\b\s\w{0,3}\b\s\b)/gi,"$1&nbsp;"),c=c.replace(/(\s[-–*+=\/<>]\s)/i,"$1&nbsp;"),c=c.replace(/(\s\w{2}[.]\s)/gi,"$1&nbsp;"),c=c.replace(/(\s\w{0,1}\w\s)/gi,"$1&nbsp;"),c=c.replace(/(\s[ż]\w\s{1})/gi,"$1&nbsp;"),c=c.replace(/\s&nbsp;/gi,"&nbsp;"),c=c.replace(/(&nbsp;)\1+/g,"&nbsp;")),$(this).html(c)})};